<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D 3.5 Character Sheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f4f4f9; }
        input, select { border: 1px solid #ccc; padding: 4px; width: 100%; }
        label { font-weight: bold; }
        .section { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    </style>
</head>
<body class="container mx-auto p-4">
    <h1 class="text-3xl font-bold text-center mb-6">D&D 3.5 Character Sheet</h1>
    <div class="section mb-6">
        <h2 class="text-2xl font-semibold mb-4">Character Information</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label>Name:</label>
                <input type="text" id="charName" class="rounded">
            </div>
            <div>
                <label>Class:</label>
                <select id="charClass" class="rounded">
                    <option value="fighter">Fighter</option>
                    <option value="cleric">Cleric</option>
                    <option value="rogue">Rogue</option>
                    <option value="wizard">Wizard</option>
                </select>
            </div>
            <div>
                <label>Level:</label>
                <input type="number" id="charLevel" min="1" value="1" class="rounded">
            </div>
            <div>
                <label>Race:</label>
                <input type="text" id="charRace" class="rounded">
            </div>
        </div>
    </div>

    <div class="section mb-6">
        <h2 class="text-2xl font-semibold mb-4">Ability Scores</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
            <div>
                <label>Strength:</label>
                <input type="number" id="strScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="strMod">+0</span></p>
            </div>
            <div>
                <label>Dexterity:</label>
                <input type="number" id="dexScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="dexMod">+0</span></p>
            </div>
            <div>
                <label>Constitution:</label>
                <input type="number" id="conScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="conMod">+0</span></p>
            </div>
            <div>
                <label>Intelligence:</label>
                <input type="number" id="intScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="intMod">+0</span></p>
            </div>
            <div>
                <label>Wisdom:</label>
                <input type="number" id="wisScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="wisMod">+0</span></p>
            </div>
            <div>
                <label>Charisma:</label>
                <input type="number" id="chaScore" min="1" value="10" class="rounded">
                <p>Modifier: <span id="chaMod">+0</span></p>
            </div>
        </div>
    </div>

    <div class="section mb-6">
        <h2 class="text-2xl font-semibold mb-4">Combat Statistics</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label>Initiative:</label>
                <input type="number" id="initMisc" min="0" value="0" class="rounded">
                <p>Total: <span id="initTotal">+0</span></p>
            </div>
            <div>
                <label>Armor Class (AC):</label>
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label>Armor Bonus:</label>
                        <input type="number" id="armorBonus" min="0" value="0" class="rounded">
                    </div>
                    <div>
                        <label>Shield Bonus:</label>
                        <input type="number" id="shieldBonus" min="0" value="0" class="rounded">
                    </div>
                    <div>
                        <label>Size Modifier:</label>
                        <input type="number" id="sizeMod" value="0" class="rounded">
                    </div>
                    <div>
                        <label>Other Modifiers:</label>
                        <input type="number" id="otherACMod" value="0" class="rounded">
                    </div>
                </div>
                <p>Total AC: <span id="acTotal">10</span></p>
            </div>
        </div>
    </div>

    <div class="section mb-6">
        <h2 class="text-2xl font-semibold mb-4">Saving Throws</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label>Fortitude:</label>
                <input type="number" id="fortMisc" min="0" value="0" class="rounded">
                <p>Base: <span id="fortBase">0</span> | Total: <span id="fortTotal">0</span></p>
            </div>
            <div>
                <label>Reflex:</label>
                <input type="number" id="refMisc" min="0" value="0" class="rounded">
                <p>Base: <span id="refBase">0</span> | Total: <span id="refTotal">0</span></p>
            </div>
            <div>
                <label>Will:</label>
                <input type="number" id="willMisc" min="0" value="0" class="rounded">
                <p>Base: <span id="willBase">0</span> | Total: <span id="willTotal">0</span></p>
            </div>
        </div>
    </div>

    <div class="section">
        <h2 class="text-2xl font-semibold mb-4">Base Attack Bonus</h2>
        <p>BAB: <span id="babTotal">+0</span></p>
    </div>

    <script>
        // Calculate ability modifier
        function calcMod(score) {
            return Math.floor((score - 10) / 2);
        }

        // Base save bonuses by class and level
        function getBaseSaves(charClass, level) {
            const saves = {
                fighter: {
                    fort: Math.floor(level / 2) + 2,
                    ref: Math.floor(level / 3),
                    will: Math.floor(level / 3)
                },
                cleric: {
                    fort: Math.floor(level / 2) + 2,
                    ref: Math.floor(level / 3),
                    will: Math.floor(level / 2) + 2
                },
                rogue: {
                    fort: Math.floor(level / 3),
                    ref: Math.floor(level / 2) + 2,
                    will: Math.floor(level / 3)
                },
                wizard: {
                    fort: Math.floor(level / 3),
                    ref: Math.floor(level / 3),
                    will: Math.floor(level / 2) + 2
                }
            };
            return saves[charClass] || { fort: 0, ref: 0, will: 0 };
        }

        // Base attack bonus by class and level
        function getBAB(charClass, level) {
            if (charClass === 'fighter' || charClass === 'cleric') {
                return level;
            } else if (charClass === 'rogue') {
                return Math.floor(level * 3 / 4);
            } else if (charClass === 'wizard') {
                return Math.floor(level / 2);
            }
            return 0;
        }

        // Update all calculations
        function updateSheet() {
            const strScore = parseInt(document.getElementById('strScore').value) || 10;
            const dexScore = parseInt(document.getElementById('dexScore').value) || 10;
            const conScore = parseInt(document.getElementById('conScore').value) || 10;
            const intScore = parseInt(document.getElementById('intScore').value) || 10;
            const wisScore = parseInt(document.getElementById('wisScore').value) || 10;
            const chaScore = parseInt(document.getElementById('chaScore').value) || 10;
            const charClass = document.getElementById('charClass').value;
            const charLevel = parseInt(document.getElementById('charLevel').value) || 1;

            // Ability Modifiers
            document.getElementById('strMod').textContent = calcMod(strScore) >= 0 ? `+${calcMod(strScore)}` : calcMod(strScore);
            document.getElementById('dexMod').textContent = calcMod(dexScore) >= 0 ? `+${calcMod(dexScore)}` : calcMod(dexScore);
            document.getElementById('conMod').textContent = calcMod(conScore) >= 0 ? `+${calcMod(conScore)}` : calcMod(conScore);
            document.getElementById('intMod').textContent = calcMod(intScore) >= 0 ? `+${calcMod(intScore)}` : calcMod(intScore);
            document.getElementById('wisMod').textContent = calcMod(wisScore) >= 0 ? `+${calcMod(wisScore)}` : calcMod(wisScore);
            document.getElementById('chaMod').textContent = calcMod(chaScore) >= 0 ? `+${calcMod(chaScore)}` : calcMod(chaScore);

            // Initiative
            const initMisc = parseInt(document.getElementById('initMisc').value) || 0;
            const initTotal = calcMod(dexScore) + initMisc;
            document.getElementById('initTotal').textContent = initTotal >= 0 ? `+${initTotal}` : initTotal;

            // Armor Class
            const armorBonus = parseInt(document.getElementById('armorBonus').value) || 0;
            const shieldBonus = parseInt(document.getElementById('shieldBonus').value) || 0;
            const sizeMod = parseInt(document.getElementById('sizeMod').value) || 0;
            const otherACMod = parseInt(document.getElementById('otherACMod').value) || 0;
            const acTotal = 10 + calcMod(dexScore) + armorBonus + shieldBonus + sizeMod + otherACMod;
            document.getElementById('acTotal').textContent = acTotal;

            // Saving Throws
            const baseSaves = getBaseSaves(charClass, charLevel);
            const fortMisc = parseInt(document.getElementById('fortMisc').value) || 0;
            const refMisc = parseInt(document.getElementById('refMisc').value) || 0;
            const willMisc = parseInt(document.getElementById('willMisc').value) || 0;

            document.getElementById('fortBase').textContent = baseSaves.fort;
            document.getElementById('refBase').textContent = baseSaves.ref;
            document.getElementById('willBase').textContent = baseSaves.will;

            const fortTotal = baseSaves.fort + calcMod(conScore) + fortMisc;
            const refTotal = baseSaves.ref + calcMod(dexScore) + refMisc;
            const willTotal = baseSaves.will + calcMod(wisScore) + willMisc;

            document.getElementById('fortTotal').textContent = fortTotal >= 0 ? `+${fortTotal}` : fortTotal;
            document.getElementById('refTotal').textContent = refTotal >= 0 ? `+${refTotal}` : refTotal;
            document.getElementById('willTotal').textContent = willTotal >= 0 ? `+${willTotal}` : willTotal;

            // Base Attack Bonus
            const bab = getBAB(charClass, charLevel);
            document.getElementById('babTotal').textContent = bab >= 0 ? `+${bab}` : bab;
        }

        // Event listeners for all inputs
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('input', updateSheet);
        });

        // Initial update
        updateSheet();
    </script>
</body>
</html>
